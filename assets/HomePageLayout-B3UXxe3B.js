import{_ as p,c as n,o,a as c,d as w,r as b,i as I,h,e as L,t as g,j as M,k as m,F as P,l as y,b as k,m as B,n as N,p as T,q as x,s as S,v}from"./index-BPAmF-d5.js";const D={},E={class:"no-result"};function V(a,e){return o(),n("div",E,e[0]||(e[0]=[c("p",{class:"no-result__text"},"Nothing found for your search.",-1)]))}const Y=p(D,[["render",V],["__scopeId","data-v-5a7989e6"]]),q={class:"movie-card"},z={class:"poster-wrapper"},A=["src","alt"],F={class:"movie-info"},G={class:"movie-info-text"},R={class:"movie-info-text"},j={class:"movie-info-text"},H={class:"movie-info-text"},$="/no-image.png",Z=w({__name:"MovieCard",props:{Title:{},Year:{},imdbID:{},Type:{},Poster:{},Plot:{}},setup(a){const e=a,d=b(e.Poster!=="N/A"?e.Poster:$),r=()=>{d.value=$};return(l,s)=>{const i=I("RouterLink");return o(),h(i,{to:`/main/${l.imdbID}`,class:"movie-card"},{default:L(()=>[c("article",q,[c("div",z,[c("img",{src:d.value,alt:l.Title,class:"movie-poster",loading:"lazy",onError:r},null,40,A)]),c("div",F,[c("p",G,"Name: "+g(l.Title),1),c("p",R,"Year: "+g(l.Year),1),c("p",j,"imdbId: "+g(l.imdbID),1),c("p",H,"Type: "+g(l.Type),1)])])]),_:1},8,["to"])}}}),J=p(Z,[["__scopeId","data-v-91d3ce67"]]),K={},O={class:"movie-card skeleton"};function Q(a,e){return o(),n("article",O,e[0]||(e[0]=[M('<div class="poster-wrapper" data-v-99c26d49><div class="poster-skeleton" data-v-99c26d49></div></div><div class="movie-info" data-v-99c26d49><div class="line w-80" data-v-99c26d49></div><div class="line w-60" data-v-99c26d49></div><div class="line w-70" data-v-99c26d49></div><div class="line w-40" data-v-99c26d49></div></div>',2)]))}const U=p(K,[["render",Q],["__scopeId","data-v-99c26d49"]]),W={class:"movie-grid"},X=w({__name:"CardGrid",props:{movies:{},isLoading:{type:Boolean}},setup(a){return(e,d)=>(o(),n("div",W,[e.isLoading?(o(),n(P,{key:0},y(8,r=>k(U,{key:r})),64)):m("",!0),e.movies.length>0&&!e.isLoading?(o(!0),n(P,{key:1},y(e.movies,r=>(o(),h(J,B({key:r.imdbID},{ref_for:!0},r),null,16))),128)):m("",!0)]))}}),ee=p(X,[["__scopeId","data-v-e7184057"]]),se={},te={width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function oe(a,e){return o(),n("svg",te,e[0]||(e[0]=[c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.69185 10.6011C8.02379 10.9331 8.56198 10.9331 8.89393 10.6011C9.22587 10.2692 9.22587 9.731 8.89393 9.39905L5.99497 6.5001L8.89393 3.60114C9.22587 3.26919 9.22587 2.731 8.89393 2.39902C8.56198 2.06712 8.02379 2.06712 7.69184 2.39902L4.5454 5.5455C4.01819 6.07271 4.01819 6.92748 4.5454 7.45469L7.69185 10.6011Z",fill:"currentColor"},null,-1)]))}const C=p(se,[["render",oe]]),ae={class:"pagination-wrapper"},ne={class:"pagination"},re=["disabled","onClick"],ie={key:0},ce={key:1},de={key:2},le={key:3},ue=w({__name:"Pagination",props:{currentPage:{},totalPages:{}},emits:["change"],setup(a,{emit:e}){const d=e,r=N(()=>{const s=[],i=a.totalPages,t=a.currentPage;if(s.push("prev"),i<=5)for(let u=1;u<=i;u++)s.push(u);else{s.push(1);let u=t-1,f=t+1;t<=3?(u=2,f=4):t>=i-2&&(u=i-3,f=i-1),u>2&&s.push("dots");for(let _=u;_<=f;_++)_>1&&_<i&&s.push(_);f<i-1&&s.push("dots"),s.push(i)}return s.push("next"),s}),l=s=>{s==="prev"?a.currentPage>1&&d("change",a.currentPage-1):s==="next"?a.currentPage<a.totalPages&&d("change",a.currentPage+1):typeof s=="number"&&d("change",s)};return(s,i)=>(o(),n("div",ae,[c("nav",ne,[(o(!0),n(P,null,y(r.value,t=>(o(),n("button",{key:t,disabled:t==="dots"||t==="prev"&&s.currentPage===1||t==="next"&&s.currentPage===s.totalPages,class:T(["pagination-button",{active:t===s.currentPage,dots:t==="dots",arrow:t==="prev"||t==="next","arrow-disabled":t==="prev"&&s.currentPage===1||t==="next"&&s.currentPage===s.totalPages}]),onClick:u=>l(t)},[t==="prev"?(o(),n("span",ie,[k(C,{class:"arrow arrow-left"})])):t==="next"?(o(),n("span",ce,[k(C,{class:"arrow arrow-right"})])):t==="dots"?(o(),n("span",de,"...")):(o(),n("span",le,g(t),1))],10,re))),128))])]))}}),ve=p(ue,[["__scopeId","data-v-fe2c627e"]]),_e=w({__name:"HomePageLayout",setup(a){const e=x();S(()=>{e.fetchMovies("Batman")});const d=r=>{e.currentPage=r,e.fetchMovies(e.query.trim(),r)};return(r,l)=>(o(),n(P,null,[k(ee,{movies:v(e).movies,"is-loading":v(e).isLoading},null,8,["movies","is-loading"]),v(e).movies.length?m("",!0):(o(),h(Y,{key:0})),v(e).totalPages>1?(o(),h(ve,{key:1,"current-page":v(e).currentPage,"total-pages":v(e).totalPages,onChange:d},null,8,["current-page","total-pages"])):m("",!0)],64))}});export{_e as default};
